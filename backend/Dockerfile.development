FROM ruby:3.3.0

ARG RAILS_MASTER_KEY
ARG RAILS_DB_HOST
ARG RAILS_DB_PORT
ARG RAILS_DB_TEST
ARG RAILS_DB_USER
ARG RAILS_DB_TEST_PASSWORD

ENV RAILS_MASTER_KEY=${RAILS_MASTER_KEY}
ENV RAILS_DB_HOST=${RAILS_DB_HOST}
ENV RAILS_DB_PORT=${RAILS_DB_PORT}
ENV RAILS_DB_TEST=${RAILS_DB_TEST}
ENV RAILS_DB_USER=${RAILS_DB_USER}
ENV RAILS_DB_TEST_PASSWORD=${RAILS_DB_TEST_PASSWORD}

WORKDIR /app/
RUN apt-get update && apt-get install -y vim
COPY ./ /app/
RUN bundle install

EXPOSE 3000
